[{"/Users/michaeldawson/Code/gapi-script-live-example/src/index.js":"1","/Users/michaeldawson/Code/gapi-script-live-example/src/App.js":"2","/Users/michaeldawson/Code/gapi-script-live-example/src/serviceWorker.js":"3","/Users/michaeldawson/Code/gapi-script-live-example/src/components/GoogleLogin.js":"4","/Users/michaeldawson/Code/gapi-script-live-example/src/components/UserCard.js":"5"},{"size":452,"mtime":1690128873904,"results":"6","hashOfConfig":"7"},{"size":220,"mtime":1690128873903,"results":"8","hashOfConfig":"7"},{"size":4951,"mtime":1690128873904,"results":"9","hashOfConfig":"7"},{"size":1898,"mtime":1690129131265,"results":"10","hashOfConfig":"7"},{"size":198,"mtime":1690128873904,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"4nrgk5",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"14"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/Users/michaeldawson/Code/gapi-script-live-example/src/index.js",[],["25","26"],"/Users/michaeldawson/Code/gapi-script-live-example/src/App.js",[],"/Users/michaeldawson/Code/gapi-script-live-example/src/serviceWorker.js",[],"/Users/michaeldawson/Code/gapi-script-live-example/src/components/GoogleLogin.js",["27","28"],"import { gapi, loadAuth2 } from 'gapi-script';\nimport React, { useEffect, useState } from 'react';\n\nimport './GoogleLogin.css';\nimport { UserCard } from './UserCard';\n\nexport const GoogleLogin  = () => {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const setAuth2 = async () => {\n      const auth2 = await loadAuth2(gapi, process.env.REACT_APP_CLIENT_ID, process.env.REACT_APP_SCOPES)\n      if (auth2.isSignedIn.get()) {\n          updateUser(auth2.currentUser.get())\n      } else {\n          attachSignin(document.getElementById('customBtn'), auth2);\n      }\n    }\n    setAuth2();\n  }, []);\n\n  useEffect(() => {\n    if (!user) {\n      const setAuth2 = async () => {\n        const auth2 = await loadAuth2(gapi, process.env.REACT_APP_CLIENT_ID, process.env.REACT_APP_SCOPES)\n        attachSignin(document.getElementById('customBtn'), auth2);\n      }\n      setAuth2();\n    }\n  }, [user])\n\n  const updateUser = (currentUser) => {\n    const name = currentUser.getBasicProfile().getName();\n    const profileImg = currentUser.getBasicProfile().getImageUrl();\n    setUser({\n      name: name,\n      profileImg: profileImg,\n    });\n  };\n\n  const attachSignin = (element, auth2) => {\n    auth2.attachClickHandler(element, {},\n      (googleUser) => {\n        updateUser(googleUser);\n      }, (error) => {\n      console.log(JSON.stringify(error))\n    });\n  };\n\n  const signOut = () => {\n    const auth2 = gapi.auth2.getAuthInstance();\n    auth2.signOut().then(() => {\n      setUser(null);\n      console.log('User signed out.');\n    });\n  }\n\n  if(user) {\n    return (\n      <div className=\"container\">\n        <UserCard user={user} />\n        <div id=\"\" className=\"btn logout\" onClick={signOut}>\n          Logout\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div id=\"customBtn\" className=\"btn login\">\n        Login\n      </div>\n    </div>\n  );\n}\n","/Users/michaeldawson/Code/gapi-script-live-example/src/components/UserCard.js",[],["29","30"],{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","severity":1,"message":"36","line":20,"column":6,"nodeType":"37","endLine":20,"endColumn":8,"suggestions":"38"},{"ruleId":"35","severity":1,"message":"36","line":30,"column":6,"nodeType":"37","endLine":30,"endColumn":12,"suggestions":"39"},{"ruleId":"31","replacedBy":"40"},{"ruleId":"33","replacedBy":"41"},"no-native-reassign",["42"],"no-negated-in-lhs",["43"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'attachSignin'. Either include it or remove the dependency array.","ArrayExpression",["44"],["45"],["42"],["43"],"no-global-assign","no-unsafe-negation",{"desc":"46","fix":"47"},{"desc":"48","fix":"49"},"Update the dependencies array to be: [attachSignin]",{"range":"50","text":"51"},"Update the dependencies array to be: [attachSignin, user]",{"range":"52","text":"53"},[608,610],"[attachSignin]",[899,905],"[attachSignin, user]"]